<!-- ddokchat/templates/ddokchat/components/chat/_input_area.html 수정 -->

<div id="messageInputArea" class="bg-gray-50 border-t border-gray-300 px-4 py-3">
  {% if room.is_fully_completed %}
    <div class="text-center text-sm text-gray-500 py-4">
      ✅ 거래가 완료되어 더 이상 채팅을 보낼 수 없습니다.
    </div>
  {% else %}
  <div class="flex items-center gap-3">
    <!-- 이미지 첨부 버튼 -->
    <label for="chat-image-upload" class="p-2 cursor-pointer text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded-full transition-colors">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"/>
      </svg>
    </label>
    <input id="chat-image-upload" type="file" accept="image/*" class="hidden">
    
    <!-- + 버튼 -> 계좌정보/배송정보 전송 -->
    <div class="relative">
      <button id="plus-menu-btn" class="p-2 cursor-pointer text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded-full transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
        </svg>
      </button>
      
      <!-- + 버튼 드롭다운 메뉴 -->
      <div id="plus-menu" class="absolute bottom-12 left-0 bg-white border border-gray-200 rounded-lg shadow-lg py-2 min-w-[160px] hidden">
        <button id="send-account-btn" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center">
          <span class="mr-2">💳</span> 내 계좌 보내기
        </button>
        <button id="send-address-btn" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center">
          <span class="mr-2">📦</span> 내 배송정보 보내기
        </button>
      </div>
    </div>
        
    <!-- 메시지 입력창 -->
    <div class="flex-1 relative">
      <input 
        id="chat-message-input" 
        type="text" 
        class="w-full px-4 py-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent text-sm bg-white"
        placeholder="메시지를 입력하세요..."
      >
    </div>
    
    <!-- 전송 버튼 -->
    <button 
      id="chat-message-submit" 
      class="bg-gray-900 hover:bg-black text-white p-3 rounded-full transition-colors shadow-md hover:shadow-lg"
    >
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
      </svg>
    </button>
  </div>
  {% endif %} 
</div>
<!-- ddokchat/templates/ddokchat/components/chat/input_area.html -->

<div id="messageInputArea" class="bg-gray-50 border-t border-gray-300 px-4 py-3">
  {% if room.is_fully_completed %}
    <div class="text-center text-sm text-gray-500 py-4">
      ✅ 거래가 완료되어 더 이상 채팅을 보낼 수 없습니다.
    </div>
  {% else %}
  <div class="flex items-center gap-3">
    <!-- 이미지 첨부 버튼 -->
    <label for="chat-image-upload" class="p-2 cursor-pointer text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded-full transition-colors">
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"/>
      </svg>
    </label>
    <input id="chat-image-upload" type="file" accept="image/*" class="hidden">
    
    <!-- + 버튼 -> 계좌정보/주소정보 전송 -->
    <div class="relative">
      <button id="plus-menu-btn" class="p-2 cursor-pointer text-gray-600 hover:text-gray-900 hover:bg-gray-200 rounded-full transition-colors">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
        </svg>
      </button>
      
      <!-- + 버튼 드롭다운 메뉴 -->
      <div id="plus-menu" class="absolute bottom-12 left-0 bg-white border border-gray-200 rounded-lg shadow-lg py-2 min-w-[160px] hidden">
        <button id="send-account-btn" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center">
          <span class="mr-2">💳</span> 내 계좌 보내기
        </button>
        <button id="send-address-btn" class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center">
          <span class="mr-2">📍</span> 내 주소 보내기
        </button>
      </div>
    </div>
        
    <!-- 메시지 입력창 -->
    <div class="flex-1 relative">
      <input 
        id="chat-message-input" 
        type="text" 
        class="w-full px-4 py-3 border border-gray-300 rounded-full focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent text-sm bg-white"
        placeholder="메시지를 입력하세요..."
      >
    </div>
    
    <!-- 전송 버튼 -->
    <button 
      id="chat-message-submit" 
      class="bg-gray-900 hover:bg-black text-white p-3 rounded-full transition-colors shadow-md hover:shadow-lg"
    >
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/>
      </svg>
    </button>
  </div>
  {% endif %} 
</div>