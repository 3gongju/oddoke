<!-- 관련 생카 리스트 (같은 아티스트/멤버의 다른 카페들) -->

{% if related_cafes %}
<div class="bg-white rounded-2xl shadow-sm border p-6">
  <h3 class="font-bold text-gray-900 mb-4 flex items-center">
    <span class="mr-2">🎭</span> {{ cafe.artist.display_name }}{% if cafe.member %} {{ cafe.member.member_name }}{% endif %}의 다른 생카
    <span class="ml-auto text-xs text-gray-500 font-normal">{{ related_cafes|length }}개</span>
  </h3>
  <div class="grid grid-cols-1 gap-3">
    {% for related_cafe in related_cafes %}
      <div class="flex items-center space-x-3 p-3 border border-gray-100 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer" onclick="location.href='{% url 'ddoksang:detail' related_cafe.id %}'">
        {% if related_cafe.get_main_image %}
          <img src="{{ related_cafe.get_main_image }}" alt="{{ related_cafe.cafe_name }}" class="w-12 h-12 rounded-lg object-cover flex-shrink-0">
        {% else %}
          <div class="w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center flex-shrink-0">
            <span class="text-gray-400 text-sm">🎂</span>
          </div>
        {% endif %}
        <div class="flex-1 min-w-0">
          <h4 class="text-sm font-medium text-gray-900 truncate">{{ related_cafe.cafe_name }}</h4>
          <p class="text-xs text-gray-600">{{ related_cafe.start_date|date:"Y.m.d" }} - {{ related_cafe.end_date|date:"m.d" }}</p>
          <div class="flex items-center space-x-2 mt-1">
            {% if related_cafe.is_active %}
              <span class="text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded-full font-medium">운영중</span>
            {% elif related_cafe.days_until_start > 0 %}
              <span class="text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full font-medium">{{ related_cafe.days_until_start }}일 후</span>
            {% else %}
              <span class="text-xs bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full">종료</span>
            {% endif %}
            <span class="text-xs text-gray-500">{{ related_cafe.get_cafe_type_display }}</span>
          </div>
        </div>
        <div class="flex-shrink-0">
          <svg class="w-4 h-4 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
          </svg>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
{% endif %}