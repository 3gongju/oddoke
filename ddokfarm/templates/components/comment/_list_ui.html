{% for comment in comments %}
  <div class="flex items-start justify-between py-3 border-b">
    <!-- 왼쪽: 유저 프로필 (작게) -->
    <div class="flex items-center space-x-3">
      {% if comment.user.profile_image %}
        <img src="{{ comment.user.profile_image.url }}" alt="프로필"
             class="w-8 h-8 rounded-full object-cover" />
      {% else %}
        <div class="w-8 h-8 rounded-full bg-gray-300 flex items-center justify-center text-sm text-white">
          {{ comment.user.username|first|upper }}
        </div>
      {% endif %}

      <!-- 사용자 이름 + 댓글 내용 -->
      <div class="flex flex-col">
        <span class="text-sm font-semibold text-gray-700">{{ comment.user.username }}</span>
        <p class="text-sm text-gray-800 mt-0.5">{{ comment.content }}</p>
      </div>
    </div>

    <!-- 오른쪽: 삭제 버튼 -->
    {% if user == comment.user %}
      <form method="POST" action="{% url 'ddokfarm:comment_delete' post.id comment.id %}">
        {% csrf_token %}
        <button type="submit" class="text-red-500 text-sm hover:underline ml-4">삭제</button>
      </form>
    {% endif %}
  </div>
{% empty %}
  <p class="text-gray-500 py-4">댓글이 아직 없습니다. 첫 댓글을 남겨보세요!</p>
{% endfor %}
