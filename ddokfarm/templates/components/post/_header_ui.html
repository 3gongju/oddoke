<!-- {# 
  ê²Œì‹œê¸€ í—¤ë” ì»´í¬ë„ŒíŠ¸

  ì—­í• :
  - ê²Œì‹œê¸€ì˜ í•µì‹¬ ì •ë³´ í‘œì‹œ (ì œëª©, ê°€ê²©, íŒë§¤ ìƒíƒœ)
  - ì‘ì„±ì í”„ë¡œí•„ ë° ì‚¬ìš©ì ì¸í„°ë™ì…˜ ë²„íŠ¼ (êµ¬ë§¤, ì°œ, ë¬¸ì˜)
  - ì‘ì„±ì ì „ìš© ìˆ˜ì •/ì‚­ì œ/íŒë§¤ì™„ë£Œ í† ê¸€ ë²„íŠ¼ í¬í•¨

  ë‚˜ëˆˆ ì´ìœ :
  - ê²Œì‹œê¸€ ìƒì„¸ ë‚´ìš©ê³¼ UIë¥¼ ë¶„ë¦¬í•˜ì—¬ ì½”ë“œ ê°€ë…ì„± í–¥ìƒ
  - ì‚¬ìš©ì í–‰ë™ ìœ ë„ ë²„íŠ¼ê³¼ ê¸°ë³¸ ì •ë³´ëŠ” í—¤ë”ì—ì„œ ì§‘ì¤‘ ê´€ë¦¬
  - ì‘ì„±ì ì „ìš© ê¸°ëŠ¥ì„ í¬í•¨í•´ ì¤‘ë³µ ì½”ë“œ ë°©ì§€ ë° ê´€ë¦¬ í¸ì˜ì„± ì¦ëŒ€
#} -->


<!-- {# components/post/_header_ui.html #} -->

<div class="grid grid-cols-1 md:grid-cols-2 gap-8">
  <!-- ì¢Œì¸¡ ì´ë¯¸ì§€ -->
  <div class="bg-white p-6 flex justify-center items-center rounded-lg shadow max-w-lg mx-auto">
    <img src="{{ post.image.url }}" alt="{{ post.title }}" class="max-w-full max-h-[500px] object-contain" />
  </div>

  <!-- ìš°ì¸¡ ì •ë³´ -->
  <div class="space-y-6">
    <h1 class="text-3xl font-extrabold">{{ post.title }}</h1>

    <!-- ê°€ê²© ë° íŒë§¤ ìƒíƒœ -->
    <div class="flex items-center justify-end space-x-3 text-yellow-600 font-semibold text-3xl">
      <span>â‚©{{ post.price|floatformat:"0" }}</span>
      {% if post.is_sold %}
        <span class="text-sm bg-gray-500 text-white px-2 py-1 rounded-full">íŒë§¤ì™„ë£Œ</span>
      {% else %}
        <span class="text-sm bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full">íŒë§¤ì¤‘</span>
      {% endif %}
    </div>

    

    <!-- íŒë§¤ì í”„ë¡œí•„ -->
    <div class="flex items-center space-x-3">
      {% if post.user.profile_image %}
        <img src="{{ post.user.profile_image.url }}" alt="{{ post.user.username }}" class="w-10 h-10 rounded-full object-cover" />
      {% endif %}
      <span class="text-sm text-gray-600">{{ post.user.username }}</span>
    </div>

    <!-- ìƒí’ˆ ìƒíƒœ ì •ë³´ (ì¹´í…Œê³ ë¦¬, ìƒíƒœ, êµí™˜ì—¬ë¶€, ì§ê±°ë˜, ë°°ì†¡ë°©ë²•) -->
    <div class="mt-2 text-sm text-gray-700 bg-gray-50 border rounded-md p-3 space-y-1 max-w-md">
      <div class="grid grid-cols-2 gap-x-2 gap-y-1 items-center">
        <span class="font-medium text-gray-600 truncate">ì¹´í…Œê³ ë¦¬</span>
        <span class="text-right truncate">{{ post.category.name }}</span>
      </div>
      <div class="grid grid-cols-2 gap-x-2 gap-y-1 items-center">
        <span class="font-medium text-gray-600 truncate">ìƒíƒœ</span>
        <span class="text-right truncate">{{ post.get_condition_display }}</span>
      </div>
      <div class="grid grid-cols-2 gap-x-2 gap-y-1 items-center">
        <span class="font-medium text-gray-600 truncate">êµí™˜ì—¬ë¶€</span>
        <span class="text-right truncate">{{ post.get_exchange_display }}</span>
      </div>
      <div class="grid grid-cols-2 gap-x-2 gap-y-1 items-center">
        <span class="font-medium text-gray-600 truncate">ì§ê±°ë˜ ì—¬ë¶€</span>
        <span class="text-right truncate">{{ post.get_direct_deal_display }}</span>
      </div>
      <div class="grid grid-cols-2 gap-x-2 gap-y-1 items-center">
        <span class="font-medium text-gray-600 truncate">ë°°ì†¡ë°©ë²•</span>
        <span class="text-right truncate">{{ post.get_shipping_display }}</span>
      </div>
    </div>

    <!-- êµ¬ë§¤í•˜ê¸° / ì°œí•˜ê¸° / ë¬¸ì˜í•˜ê¸° ë²„íŠ¼ -->
    <div class="space-y-4 mt-4">
      <button class="w-full bg-yellow-500 text-white py-3 rounded-md font-semibold hover:bg-yellow-600 transition">
        êµ¬ë§¤í•˜ê¸°
      </button>
      <div class="flex gap-3">
        <!-- ì°œí•˜ê¸° ë²„íŠ¼ (í•˜íŠ¸ í¬í•¨) -->
          <button id="like-btn-{{ post.id }}"
                  data-post-id="{{ post.id }}"
                  class="like-toggle bg-yellow-50 text-yellow-600 py-1.5 p-3 rounded-md border border-yellow-300 hover:bg-yellow-100 transition">
            <span class="heart-icon">
              {% if user in post.liked_users.all %}
                â¤ï¸
              {% else %}
                ğŸ¤
              {% endif %}
            </span>
            <span>ì°œí•˜ê¸°</span>
          </button>
        <button class="flex-1 border border-gray-300 text-gray-600 py-3 rounded-md hover:bg-gray-100 transition">ë¬¸ì˜í•˜ê¸°</button>
      </div>
    </div>

    <!-- {# ì‘ì„±ì ì „ìš©: ìˆ˜ì • / ì‚­ì œ / íŒë§¤ì™„ë£Œ ë²„íŠ¼ (ë¬¸ì˜í•˜ê¸° ë²„íŠ¼ ì•„ë˜ ê°„ê²© ì¶©ë¶„íˆ ë„ì›Œ ë°°ì¹˜) #} -->
    {% if user == post.user %}
    <div class="flex justify-end space-x-3 mt-8">
      <a href="{% url 'ddokfarm:update' post.id %}" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition">
        ìˆ˜ì •
      </a>

      <form method="POST" action="{% url 'ddokfarm:delete' post.id %}">
        {% csrf_token %}
        <button type="submit" class="px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition">
          ì‚­ì œ
        </button>
      </form>

      <form method="POST" action="{% url 'ddokfarm:mark_as_sold' post.id %}">
        {% csrf_token %}
        <button type="submit" class="px-4 py-2 bg-gray-800 text-white rounded-md hover:bg-gray-900 transition">
          {% if post.is_sold %}
            íŒë§¤ì¤‘ìœ¼ë¡œ ë³€ê²½
          {% else %}
            íŒë§¤ì™„ë£Œë¡œ ë³€ê²½
          {% endif %}
        </button>
      </form>
    </div>
    <form style="display: none;">
      {% csrf_token %}
    </form>
    {% endif %}
  </div>
</div>
