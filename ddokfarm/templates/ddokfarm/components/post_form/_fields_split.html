<!-- ddokfarm/templates/ddokfarm/components/post_form/_fields_split.html -->

<!-- 멤버별 가격 입력 formset (AJAX로 로드됨) -->
<div id="splitprice-formset-wrapper" class="{% if category != 'split' %}hidden{% endif %}">
  {% if formset %}
    {% include "ddokfarm/components/post_form/_splitprice_formset.html" with formset=formset member_names=member_names %}
  {% endif %}
</div>

<!-- 앨범 포함 여부 -->
<div class="mb-6">
  <label for="{{ form.album.id_for_label }}" class="block text-lg font-bold text-gray-900 mb-3">앨범 포함 여부</label>
  <div class="flex flex-wrap gap-3 sm:gap-4">
    {% for choice in form.album.field.choices %}
      <label class="inline-flex items-center cursor-pointer">
        <input type="radio" name="{{ form.album.name }}" value="{{ choice.0 }}" 
               class="w-4 h-4 text-green-600 border-gray-300 focus:ring-pink-500"
               {% if choice.0 == form.album.value %}checked{% endif %}>
        <span class="ml-2 text-sm text-gray-700">{{ choice.1 }}</span>
      </label>
    {% endfor %}
  </div>
  {% if form.album.errors %}<p class="text-red-500 text-sm mt-1">{{ form.album.errors.0 }}</p>{% endif %}
</div>

<!-- 구매처 -->
<div class="mb-6">
  <label for="{{ form.where.id_for_label }}" class="block text-lg font-bold text-gray-900 mb-1">구매처</label>
  {{ form.where }}
  {% if form.where.errors %}<p class="text-red-500 text-sm mt-1">{{ form.where.errors.0 }}</p>{% endif %}
</div>

<!-- 구매일 -->
<div class="mb-6">
  <label for="{{ form.when.id_for_label }}" class="block text-lg font-bold text-gray-900 mb-1">구매일</label>
  {{ form.when }}
  {% if form.when.errors %}<p class="text-red-500 text-sm mt-1">{{ form.when.errors.0 }}</p>{% endif %}
</div>

<!-- 무산 여부 -->
<div class="mb-6">
  <label for="{{ form.failure.id_for_label }}" class="block text-lg font-bold text-gray-900 mb-3">무산 여부</label>
  <div class="flex flex-wrap gap-3 sm:gap-4">
    {% for choice in form.failure.field.choices %}
      <label class="inline-flex items-center cursor-pointer">
        <input type="radio" name="{{ form.failure.name }}" value="{{ choice.0 }}" 
               class="w-4 h-4 text-green-600 border-gray-300 focus:ring-pink-500"
               {% if choice.0 == form.failure.value %}checked{% endif %}>
        <span class="ml-2 text-sm text-gray-700">{{ choice.1 }}</span>
      </label>
    {% endfor %}
  </div>
  {% if form.failure.errors %}<p class="text-red-500 text-sm mt-1">{{ form.failure.errors.0 }}</p>{% endif %}
</div>

<!-- 밀어내기 -->
<div class="mb-6">
  <label for="{{ form.push.id_for_label }}" class="block text-lg font-bold text-gray-900 mb-3">밀어내기</label>
  <div class="flex flex-wrap gap-3 sm:gap-4">
    {% for choice in form.push.field.choices %}
      <label class="inline-flex items-center cursor-pointer">
        <input type="radio" name="{{ form.push.name }}" value="{{ choice.0 }}" 
               class="w-4 h-4 text-green-600 border-gray-300 focus:ring-pink-500"
               {% if choice.0 == form.push.value %}checked{% endif %}>
        <span class="ml-2 text-sm text-gray-700">{{ choice.1 }}</span>
      </label>
    {% endfor %}
  </div>
  {% if form.push.errors %}<p class="text-red-500 text-sm mt-1">{{ form.push.errors.0 }}</p>{% endif %}
</div>

<!-- 배송 -->
{% include "ddokfarm/components/post_form/_shipping_fields.html" %}