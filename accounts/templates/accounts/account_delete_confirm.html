{% extends 'base.html' %}
{% load static %}

{% block body %}
<div class="min-h-screen bg-gray-50 py-8">
  <div class="max-w-lg mx-auto px-4">
    
    <!-- 삭제 확인 카드 -->
    <div class="bg-white rounded-3xl shadow-xl p-6 sm:p-8 border border-gray-100">
      
      <!-- 경고 아이콘 -->
      <div class="text-center mb-6 sm:mb-8">
        <h1 class="text-xl sm:text-2xl font-bold text-gray-800 mb-2">계좌정보 삭제</h1>
        <p class="text-sm sm:text-base text-gray-600">정말로 등록된 계좌정보를 삭제하시겠습니까?</p>
      </div>

      <!-- 현재 등록된 계좌 정보 -->
      <div class="bg-gray-50 rounded-2xl p-4 sm:p-6 mb-6 sm:mb-8 border border-gray-200">
        <h3 class="font-bold text-gray-800 mb-4 text-sm sm:text-base">현재 등록된 계좌정보</h3>
        <div class="space-y-3">
          <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-1 sm:space-y-0">
            <span class="text-gray-600 font-medium text-sm">은행</span>
            <span class="font-semibold text-gray-800 text-sm sm:text-base">{{ bank_profile.bank_name }}</span>
          </div>
          <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-1 sm:space-y-0">
            <span class="text-gray-600 font-medium text-sm">계좌번호</span>
            <span class="font-mono font-semibold text-gray-800 text-sm sm:text-base break-all">
              {{ bank_profile.get_masked_account_number }}
            </span>
          </div>
          <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-1 sm:space-y-0">
            <span class="text-gray-600 font-medium text-sm">예금주</span>
            <span class="font-semibold text-gray-800 text-sm sm:text-base">{{ bank_profile.account_holder }}</span>
          </div>
          <div class="flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-1 sm:space-y-0">
            <span class="text-gray-600 font-medium text-sm">등록일</span>
            <span class="font-semibold text-gray-800 text-sm sm:text-base">
              {{ bank_profile.created_at|date:"Y년 m월 d일" }}
            </span>
          </div>
        </div>
      </div>

      <!-- 삭제 주의사항 -->
      <div class="bg-red-50 border border-red-200 rounded-2xl p-4 sm:p-6 mb-6 sm:mb-8">
        <div class="flex items-start space-x-3">
          <div>
            <h4 class="font-bold text-red-800 mb-3 text-sm sm:text-base">삭제 시 주의사항</h4>
            <ul class="text-xs sm:text-sm text-red-700 space-y-2 leading-relaxed">
              <li class="flex items-start space-x-2">
                <span class="text-red-500 mt-1">•</span>
                <span>삭제된 계좌정보는 복구할 수 없습니다</span>
              </li>
              <li class="flex items-start space-x-2">
                <span class="text-red-500 mt-1">•</span>
                <span>진행 중인 거래가 있다면 완료 후 삭제하세요</span>
              </li>
              <li class="flex items-start space-x-2">
                <span class="text-red-500 mt-1">•</span>
                <span>새로운 거래를 위해서는 계좌를 다시 등록해야 합니다</span>
              </li>
              <li class="flex items-start space-x-2">
                <span class="text-red-500 mt-1">•</span>
                <span>삭제 후에도 거래 기록은 보관됩니다</span>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <!-- 버튼 그룹 -->
      <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4">
        <a href="{% url 'accounts:mypage' %}" 
           class="w-full sm:flex-1 px-6 py-3 sm:py-4 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-2xl transition-all duration-200 text-center text-sm sm:text-base">
          취소
        </a>
        
        <form method="POST" class="w-full sm:flex-1">
          {% csrf_token %}
          <button type="submit" 
                  onclick="return confirm('정말로 계좌정보를 삭제하시겠습니까?\n\n이 작업은 되돌릴 수 없습니다.')"
                  class="w-full px-6 py-3 sm:py-4 bg-red-500 hover:bg-red-600 text-white font-semibold rounded-2xl transition-all duration-200 transform hover:scale-105 text-sm sm:text-base">
            삭제하기
          </button>
        </form>
      </div>
    </div>

    <!-- 도움말 섹션 -->
    <div class="bg-white rounded-3xl shadow-xl p-6 sm:p-8 mt-6 sm:mt-8 border border-gray-100">
      <div class="text-center">
        <h3 class="text-base sm:text-lg font-bold text-gray-800 mb-3">계좌 재등록 안내</h3>
        <p class="text-gray-600 text-xs sm:text-sm leading-relaxed">
          계좌정보를 삭제한 후 다시 거래를 원하신다면<br>
          언제든지 새로운 계좌를 등록할 수 있습니다.
        </p>
        <a href="{% url 'accounts:account_registration' user_profile.username %}" 
           class="inline-flex items-center px-4 sm:px-6 py-2 sm:py-3 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-xl transition-colors mt-4 text-sm sm:text-base">
          새 계좌 등록하기
        </a>
      </div>
    </div>
  </div>
</div>

{% endblock %}