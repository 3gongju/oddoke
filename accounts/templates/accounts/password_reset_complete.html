{% extends 'base.html' %}
{% load static %}

{% block body %}
<div class="min-h-screen bg-gradient-to-br from-green-50 to-emerald-100 flex items-center justify-center px-4 py-12">
  <div class="w-full max-w-md">
    
    <!-- 성공 메시지 -->
    <div class="text-center mb-8">
      <div class="w-20 h-20 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6">
        <svg class="w-10 h-10 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
      </div>
      <h1 class="text-3xl font-bold text-gray-800 mb-3">비밀번호 변경 완료!</h1>
      <p class="text-gray-600 leading-relaxed">
        비밀번호가 성공적으로 변경되었습니다.<br>
        새로운 비밀번호로 로그인해주세요.
      </p>
    </div>

    <!-- 메시지 표시 -->
    {% if messages %}
      {% for message in messages %}
        <div class="mb-4 p-3 {% if message.tags == 'error' %}bg-red-100 border border-red-400 text-red-700{% elif message.tags == 'warning' %}bg-yellow-100 border border-yellow-400 text-yellow-700{% else %}bg-green-100 border border-green-400 text-green-700{% endif %} rounded-xl">
          <p class="text-sm">{{ message }}</p>
        </div>
      {% endfor %}
    {% endif %}

    <!-- 완료 안내 카드 -->
    <div class="bg-white rounded-3xl shadow-xl p-8 border border-gray-100 mb-8">
      
      <!-- 완료 체크리스트 -->
      <div class="space-y-6">
        <div class="text-center">
          <h3 class="text-xl font-bold text-gray-800 mb-4">변경이 완료되었습니다</h3>
        </div>
        
        <div class="space-y-4">
          <!-- 완료 항목들 -->
          <div class="flex items-center space-x-4 p-3 bg-green-50 rounded-xl">
            <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
            </div>
            <div class="flex-1">
              <h4 class="font-semibold text-green-800">비밀번호 변경 완료</h4>
              <p class="text-sm text-green-600">새로운 비밀번호가 안전하게 저장되었습니다.</p>
            </div>
          </div>
          
          <div class="flex items-center space-x-4 p-3 bg-green-50 rounded-xl">
            <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
            </div>
            <div class="flex-1">
              <h4 class="font-semibold text-green-800">계정 보안 강화</h4>
              <p class="text-sm text-green-600">계정의 보안이 더욱 강화되었습니다.</p>
            </div>
          </div>
          
          <div class="flex items-center space-x-4 p-3 bg-green-50 rounded-xl">
            <div class="w-6 h-6 bg-green-500 rounded-full flex items-center justify-center flex-shrink-0">
              <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
            </div>
            <div class="flex-1">
              <h4 class="font-semibold text-green-800">이전 세션 무효화</h4>
              <p class="text-sm text-green-600">모든 기기에서 재로그인이 필요합니다.</p>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 로그인 버튼 -->
      <div class="mt-8">
        <a href="{% url 'accounts:login' %}" 
           class="w-full block px-6 py-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-semibold rounded-2xl transition-all duration-200 transform hover:scale-105 shadow-lg text-center">
          새 비밀번호로 로그인하기
        </a>
      </div>
    </div>

    <!-- 보안 권장사항 -->
    <div class="bg-white rounded-3xl shadow-xl p-6 border border-gray-100">
      <div class="text-center mb-4">
        <h4 class="font-semibold text-gray-800">보안을 위한 권장사항</h4>
      </div>
      
      <div class="space-y-3 text-sm text-gray-600">
        <div class="flex items-start space-x-3">
          <div class="w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 flex-shrink-0"></div>
          <p>새 비밀번호를 안전한 곳에 보관하세요.</p>
        </div>
        
        <div class="flex items-start space-x-3">
          <div class="w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 flex-shrink-0"></div>
          <p>정기적으로 비밀번호를 변경해주세요.</p>
        </div>
        
        <div class="flex items-start space-x-3">
          <div class="w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 flex-shrink-0"></div>
          <p>다른 사이트와 동일한 비밀번호 사용을 피해주세요.</p>
        </div>
        
        <div class="flex items-start space-x-3">
          <div class="w-1.5 h-1.5 bg-blue-500 rounded-full mt-2 flex-shrink-0"></div>
          <p>의심스러운 로그인 시도가 있으면 즉시 알려주세요.</p>
        </div>
      </div>
    </div>

    <!-- 추가 링크 -->
    <div class="text-center mt-8 space-y-4">
      <p class="text-sm text-gray-500">
        다른 문제가 있나요? 
        <a href="#" class="text-blue-600 hover:text-blue-800 font-medium underline">
          고객센터
        </a>
        로 문의하세요.
      </p>
      
      <p class="text-sm text-gray-500">
        <a href="{% url 'accounts:signup' %}" class="text-blue-600 hover:text-blue-800 font-medium underline">
          새 계정 만들기
        </a>
      </p>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // 5초 후 자동으로 로그인 페이지로 이동 (선택사항)
    let countdown = 10;
    const loginBtn = document.querySelector('a[href*="login"]');
    const originalText = loginBtn.textContent;
    
    const timer = setInterval(() => {
      countdown--;
      loginBtn.textContent = `${originalText} (${countdown}초 후 자동 이동)`;
      
      if (countdown <= 0) {
        clearInterval(timer);
        window.location.href = loginBtn.href;
      }
    }, 1000);
    
    // 클릭 시 자동 이동 취소
    loginBtn.addEventListener('click', () => {
      clearInterval(timer);
    });
    
    // 페이지 떠날 때 타이머 정리
    window.addEventListener('beforeunload', () => {
      clearInterval(timer);
    });
  });
</script>

{% endblock %}