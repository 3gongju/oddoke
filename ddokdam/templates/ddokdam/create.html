{# templates/ddokdam/create.html #}
{% extends 'base.html' %}
{% load static %}

{% block head %}
  <script src="https://cdn.tailwindcss.com"></script>
{% endblock %}

{% block body %}
<div class="max-w-4xl mx-auto my-12">
  <div class="bg-white rounded-lg shadow-md overflow-hidden">
    <!-- 헤더 -->
    <div class="bg-yellow-500 px-6 py-4 border-b">
      <h1 class="text-xl font-bold text-white">게시물 작성</h1>
    </div>

    <!-- 폼 시작 -->
    <form method="POST" enctype="multipart/form-data" action="{% url 'ddokdam:create' %}" class="p-6">
      {% csrf_token %}

      <!-- 카테고리 선택 -->
      <div class="mb-8">
        <h2 class="text-lg font-semibold mb-3">카테고리 선택</h2>
        <div class="grid grid-cols-3 gap-3">
          <label><input type="radio" name="category" value="community" checked> 커뮤니티</label>
          <label><input type="radio" name="category" value="food"> 예절샷</label>
          <label><input type="radio" name="category" value="cafe"> 생일카페</label>
        </div>
      </div>

      <!-- 커뮤니티 폼 -->
      <div id="community-form" class="category-form">
        <input type="text" name="title_community" placeholder="제목" required>
        <textarea name="content_community" placeholder="내용" required></textarea>
        <input type="file" name="image_community">
        <select name="idol_community">
          <option value="">선택하세요</option>
          <option value="bts">BTS</option>
          <!-- 생략 -->
        </select>
      </div>

      <!-- 예절샷 폼 -->
      <div id="food-form" class="category-form hidden">
        <input type="text" name="title_food" placeholder="제목" required>
        <textarea name="content_food" required></textarea>
        <input type="file" name="image_food" required>
        <input type="text" name="location_food" placeholder="장소" required>
        <select name="doll_food">
          <option value="">선택하세요</option>
          <option value="bts">BTS 인형</option>
        </select>
      </div>

      <!-- 생일카페 폼 -->
      <div id="cafe-form" class="category-form hidden">
        <input type="text" name="title_cafe" placeholder="제목" required>
        <textarea name="content_cafe" required></textarea>
        <input type="file" name="image_cafe" required>
        <select name="idol_cafe">
          <option value="">선택하세요</option>
          <option value="bts">BTS</option>
        </select>
        <input type="text" name="cafe_name" placeholder="카페명">
        <input type="text" name="cafe_location" placeholder="위치">
        <input type="date" name="start_date">
        <input type="date" name="end_date">
      </div>

      <div class="flex justify-end mt-8">
        <button type="submit" class="px-6 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600">작성 완료</button>
      </div>
    </form>
  </div>
</div>
{% include 'components/create_form_script.html' %}
{% endblock %}
