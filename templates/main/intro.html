{# templates/main/intro.html #}
<!DOCTYPE html>
{% load static %}
<html lang="ko" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page_title }} - ì–´ë•í•´</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="ì–´ë•í•´ - íŒ¬ë“¤ì„ ìœ„í•œ íŠ¹ë³„í•œ ê³µê°„. êµ¿ì¦ˆ ê±°ë˜, íŒ¬ ì»¤ë®¤ë‹ˆí‹°, ìƒì¼ ë‹¬ë ¥ ë“± ë•ì§ˆì˜ ëª¨ë“  ê²ƒì„ ê²½í—˜í•˜ì„¸ìš”.">
    <meta name="keywords" content="ë•ì§ˆ, êµ¿ì¦ˆê±°ë˜, íŒ¬ì»¤ë®¤ë‹ˆí‹°, K-POP, ì•„ì´ëŒ, ë•íŒœ, ë•ë‹´, ìƒì¼ë‹¬ë ¥">
    <meta name="author" content="ì–´ë•í•´">
    <meta name="robots" content="index, follow">
    
    <!-- Open Graph Meta Tags (Facebook, ì¹´ì¹´ì˜¤í†¡ ë“±) -->
    <meta property="og:title" content="ì–´ë•í•´ - íŒ¬ë“¤ì„ ìœ„í•œ íŠ¹ë³„í•œ ê³µê°„">
    <meta property="og:description" content="êµ¿ì¦ˆ ê±°ë˜, íŒ¬ ì»¤ë®¤ë‹ˆí‹°, ìƒì¼ ë‹¬ë ¥ ë“± ë•ì§ˆì˜ ëª¨ë“  ê²ƒì„ í•œ ê³³ì—ì„œ ê²½í—˜í•˜ì„¸ìš”.">
    <meta property="og:image" content="{% static 'image/slide/intro_slide_default.jpg' %}">
    <meta property="og:url" content="{{ request.build_absolute_uri }}">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="ì–´ë•í•´">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="ì–´ë•í•´ - íŒ¬ë“¤ì„ ìœ„í•œ íŠ¹ë³„í•œ ê³µê°„">
    <meta name="twitter:description" content="êµ¿ì¦ˆ ê±°ë˜, íŒ¬ ì»¤ë®¤ë‹ˆí‹°, ìƒì¼ ë‹¬ë ¥ ë“± ë•ì§ˆì˜ ëª¨ë“  ê²ƒì„ í•œ ê³³ì—ì„œ ê²½í—˜í•˜ì„¸ìš”.">
    <meta name="twitter:image" content="{% static 'image/slide/intro_slide_default.jpg' %}">
    
    <!-- Performance Optimization -->
    <link rel="preload" href="{% static 'image/slide/intro_slide_default.jpg' %}" as="image">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="{% static 'favicon.ico' %}">
    <link rel="apple-touch-icon" href="{% static 'apple-touch-icon.png' %}"
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ -->
    <style>
        /* ìŠ¤í¬ë¡¤ ìŠ¤ëƒ… ì„¤ì • */
        .snap-container {
            scroll-snap-type: y mandatory;
            scroll-behavior: smooth;
        }
        
        .snap-section {
            scroll-snap-align: start;
            scroll-snap-stop: always;
        }
        
        /* ì´ë¯¸ì§€ ìµœì í™” */
        .intro-image {
            object-fit: cover;
            object-position: center;
            width: 100%;
            height: 100vh;
            /* ì´ë¯¸ì§€ ì••ì¶• í’ˆì§ˆ í–¥ìƒ */
            image-rendering: -webkit-optimize-contrast;
            image-rendering: optimize-contrast;
            /* ë ˆì´ì§€ ë¡œë”© ì§€ì› */
            content-visibility: auto;
        }
        
        /* ê³ í•´ìƒë„ ë””ìŠ¤í”Œë ˆì´ ëŒ€ì‘ */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .intro-image {
                image-rendering: -webkit-optimize-contrast;
                image-rendering: crisp-edges;
            }
        }
        
        /* ì ‘ê·¼ì„± ê°œì„  - ëª¨ì…˜ ê°ì†Œ ì„¤ì • */
        @media (prefers-reduced-motion: reduce) {
            .snap-container {
                scroll-behavior: auto;
            }
            
            .fade-in,
            .scroll-indicator,
            .nav-dot {
                animation: none;
                transition: none;
            }
            
            .loading-spinner {
                animation: none;
            }
        }
        
        /* ì¸í„°ë„· ìµìŠ¤í”Œë¡œëŸ¬ ëŒ€ì‘ */
        @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
            .intro-image {
                object-fit: cover;
                height: 100vh;
            }
        }
        
        /* ëª¨ë°”ì¼ì—ì„œ ì´ë¯¸ì§€ ë¹„ìœ¨ ìœ ì§€ */
        @media (max-width: 768px) {
            .intro-image {
                object-fit: contain;
                background-color: #f8fafc;
            }
        }
        
        /* ë„¤ë¹„ê²Œì´ì…˜ ë„íŠ¸ */
        .nav-dot {
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .nav-dot.active {
            transform: scale(1.3);
            background-color: white;
            box-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
        }
        
        /* ìŠ¤í¬ë¡¤ ì¸ë””ì¼€ì´í„° ì• ë‹ˆë©”ì´ì…˜ */
        .scroll-indicator {
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        
        /* ë¡œë”© ìŠ¤í”¼ë„ˆ */
        .loading-spinner {
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top: 3px solid white;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* ì˜¤ë²„ë ˆì´ ì½˜í…ì¸  í˜ì´ë“œ ì¸ */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }
        
        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* ë„¤ë¹„ê²Œì´ì…˜ ë„íŠ¸ ì»¨í…Œì´ë„ˆ ìŠ¤í¬ë¡¤ */
        .nav-dots-container {
            max-height: 80vh;
            overflow-y: auto;
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .nav-dots-container::-webkit-scrollbar {
            display: none;
        }
        
        /* í†µê³„ ì¹´ìš´í„° ì• ë‹ˆë©”ì´ì…˜ */
        .counter {
            font-variant-numeric: tabular-nums;
        }

        /* ğŸ”¥ ì°œí•œ ì•„í‹°ìŠ¤íŠ¸ ì¹´ë“œ ì „ìš© ìŠ¤íƒ€ì¼ */
        .favorite-artist-card:hover {
            transform: scale(1.1) translateY(-3px);
            box-shadow: 0 10px 30px rgba(255, 255, 255, 0.2);
        }

        /* ì•„í‹°ìŠ¤íŠ¸ ë¡œê³  ê¸€ë¡œìš° íš¨ê³¼ */
        .artist-logo-glow {
            transition: all 0.3s ease;
        }

        .artist-logo-glow:hover {
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            filter: brightness(1.1);
        }
    </style>
</head>
<body class="bg-gray-900 overflow-x-hidden">
    
    <!-- ë¡œë”© í™”ë©´ -->
    <div id="loading" class="fixed inset-0 bg-black z-50 flex items-center justify-center transition-opacity duration-500">
        <div class="text-center text-white">
            <div class="loading-spinner mx-auto mb-4"></div>
            <div class="text-lg font-light">ì–´ë•í•´ ë¡œë”© ì¤‘...</div>
        </div>
    </div>
    
    <!-- ìƒë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
    <nav class="fixed top-0 left-0 right-0 z-40 bg-black bg-opacity-80 backdrop-blur-md">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- ë¡œê³  -->
                <div class="flex-shrink-0">
                    <a href="/" class="text-white text-xl font-bold hover:text-gray-300 transition-colors">
                        ì–´ë•í•´
                    </a>
                </div>
                
                <!-- ë„¤ë¹„ê²Œì´ì…˜ ë©”ë‰´ -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="/" class="text-gray-300 hover:text-white px-3 py-2 text-sm font-medium transition-colors">
                            í™ˆ
                        </a>
                        <a href="/ddokfarm/" class="text-gray-300 hover:text-white px-3 py-2 text-sm font-medium transition-colors">
                            ë•íŒœ
                        </a>
                        <a href="/ddokdam/" class="text-gray-300 hover:text-white px-3 py-2 text-sm font-medium transition-colors">
                            ë•ë‹´
                        </a>
                        <a href="/calendar/" class="text-gray-300 hover:text-white px-3 py-2 text-sm font-medium transition-colors">
                            ë•ìƒ
                        </a>
                    </div>
                </div>
                
                <!-- CTA ë²„íŠ¼ -->
                <div class="flex items-center space-x-3">
                    {% if user.is_authenticated %}
                        <span class="text-gray-300 text-sm">{{ user.display_name }}ë‹˜</span>
                        <a href="/accounts/logout/" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-full text-sm font-medium transition-colors">
                            ë¡œê·¸ì•„ì›ƒ
                        </a>
                    {% else %}
                        <a href="/accounts/login/" class="text-white hover:text-gray-300 px-3 py-2 text-sm font-medium transition-colors">
                            ë¡œê·¸ì¸
                        </a>
                        <a href="/accounts/signup/" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-full text-sm font-medium transition-colors">
                            íšŒì›ê°€ì…
                        </a>
                    {% endif %}
                </div>
                
                <!-- ëª¨ë°”ì¼ ë©”ë‰´ ë²„íŠ¼ -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" class="text-gray-300 hover:text-white p-2">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- ëª¨ë°”ì¼ ë©”ë‰´ -->
        <div id="mobile-menu" class="md:hidden hidden bg-black bg-opacity-90">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="/" class="text-gray-300 hover:text-white block px-3 py-2 text-base font-medium">í™ˆ</a>
                <a href="/ddokfarm/" class="text-gray-300 hover:text-white block px-3 py-2 text-base font-medium">ë•íŒœ</a>
                <a href="/ddokdam/" class="text-gray-300 hover:text-white block px-3 py-2 text-base font-medium">ë•ë‹´</a>
                <a href="/calendar/" class="text-gray-300 hover:text-white block px-3 py-2 text-base font-medium">ë•ìƒ</a>
            </div>
        </div>
    </nav>
    
    <!-- ìš°ì¸¡ ë„¤ë¹„ê²Œì´ì…˜ ë„íŠ¸ -->
    <div class="fixed right-4 md:right-8 top-1/2 transform -translate-y-1/2 z-40">
        <div class="nav-dots-container space-y-2">
            {% for slide in slide_contents %}
            <div class="nav-dot w-3 h-3 bg-white bg-opacity-50 rounded-full cursor-pointer transition-all hover:bg-opacity-80 {% if forloop.first %}active{% endif %}" 
                 data-section="{{ forloop.counter0 }}" 
                 title="{{ slide.subtitle }}"></div>
            {% endfor %}
        </div>
    </div>
    
    <!-- ë©”ì¸ ì»¨í…Œì´ë„ˆ -->
    <main class="h-screen overflow-y-auto snap-container" id="main-container">
        
        <!-- 17ê°œ ìŠ¬ë¼ì´ë“œ ë™ì  ìƒì„± -->
        {% for slide in slide_contents %}
        <section class="snap-section h-screen relative" id="section-{{ forloop.counter0 }}">
            <img src="{% static slide.image %}" 
                 alt="ì–´ë•í•´ ì†Œê°œ ìŠ¬ë¼ì´ë“œ {{ forloop.counter }} - {{ slide.title }}" 
                 class="intro-image"
                 loading="eager">
            
            <!-- ìŠ¬ë¼ì´ë“œë³„ ì˜¤ë²„ë ˆì´ ì½˜í…ì¸  -->
            <div class="absolute inset-0 bg-black bg-opacity-40 flex items-center justify-center">
                <div class="text-center text-white fade-in px-4 max-w-4xl">
                    
                    {% if slide.type == 'welcome' %}
                    <!-- ì²« ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ - ì›°ì»´ -->
                    <h1 class="text-4xl md:text-6xl font-bold mb-4">{{ slide.title }}</h1>
                    <p class="text-lg md:text-xl mb-8 max-w-2xl mx-auto">
                        {{ slide.subtitle }}<br>
                        {{ slide.description }}
                    </p>
                    
                    {% elif slide.type == 'cta' %}
                    <!-- ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œ - CTA -->
                    <h2 class="text-4xl md:text-6xl font-bold mb-6">{{ slide.title }}</h2>
                    <p class="text-lg md:text-xl mb-8 max-w-3xl mx-auto">
                        {{ slide.subtitle }}<br>
                        {{ slide.description }}
                    </p>
                    
                    <!-- í†µê³„ ì •ë³´ -->
                    {% if stats.total_users > 0 %}
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8 max-w-2xl mx-auto">
                        <div class="text-center">
                            <div class="text-2xl md:text-3xl font-bold counter">{{ stats.total_users }}</div>
                            <div class="text-sm opacity-80">í™œì„± ì‚¬ìš©ì</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl md:text-3xl font-bold counter">{{ stats.total_artists }}</div>
                            <div class="text-sm opacity-80">ë“±ë¡ ì•„í‹°ìŠ¤íŠ¸</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl md:text-3xl font-bold counter">{{ stats.total_posts }}</div>
                            <div class="text-sm opacity-80">ê²Œì‹œë¬¼</div>
                        </div>
                        <div class="text-center">
                            <div class="text-2xl md:text-3xl font-bold counter">{{ stats.total_trades }}</div>
                            <div class="text-sm opacity-80">ê±°ë˜ ì™„ë£Œ</div>
                        </div>
                    </div>
                    {% endif %}
                    
                    <!-- CTA ë²„íŠ¼ -->
                    <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                        {% if not user.is_authenticated %}
                            <a href="/accounts/signup/" 
                               class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-full text-lg font-semibold transition-all transform hover:scale-105 shadow-xl">
                                ì§€ê¸ˆ ì‹œì‘í•˜ê¸°
                            </a>
                            <a href="/" 
                               class="border-2 border-white text-white hover:bg-white hover:text-black px-8 py-4 rounded-full text-lg font-semibold transition-all">
                                ë‘˜ëŸ¬ë³´ê¸°
                            </a>
                        {% else %}
                            <a href="/" 
                               class="bg-white text-black hover:bg-gray-100 px-8 py-4 rounded-full text-lg font-semibold transition-all transform hover:scale-105 shadow-xl">
                                ë©”ì¸ìœ¼ë¡œ ëŒì•„ê°€ê¸°
                            </a>
                        {% endif %}
                    </div>
                    
                    {% else %}
                    <!-- ì¼ë°˜ ìŠ¬ë¼ì´ë“œ -->
                    <h2 class="text-3xl md:text-5xl font-bold mb-4">{{ slide.title }}</h2>
                    <h3 class="text-xl md:text-2xl mb-6 text-pink-200">{{ slide.subtitle }}</h3>
                    <p class="text-base md:text-lg max-w-2xl mx-auto leading-relaxed">
                        {{ slide.description }}
                    </p>
                    
                    <!-- ìŠ¬ë¼ì´ë“œ íƒ€ì…ë³„ ì¶”ê°€ ì½˜í…ì¸  -->
                    {% if slide.type == 'ddokfarm' %}
                    <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto">
                        <div class="bg-white bg-opacity-20 p-4 rounded-lg backdrop-blur-sm">
                            <div class="text-lg font-semibold mb-2">íŒë§¤</div>
                            <div class="text-sm opacity-90">ì•ˆì „í•œ êµ¿ì¦ˆ ê±°ë˜</div>
                        </div>
                        <div class="bg-white bg-opacity-20 p-4 rounded-lg backdrop-blur-sm">
                            <div class="text-lg font-semibold mb-2">ëŒ€ì—¬</div>
                            <div class="text-sm opacity-90">ê²½ì œì ì¸ ì„ íƒ</div>
                        </div>
                        <div class="bg-white bg-opacity-20 p-4 rounded-lg backdrop-blur-sm">
                            <div class="text-lg font-semibold mb-2">ê³µë™êµ¬ë§¤</div>
                            <div class="text-sm opacity-90">í•¨ê»˜í•˜ëŠ” ì¦ê±°ì›€</div>
                        </div>
                    </div>
                    
                    {% elif slide.type == 'ddokdam' %}
                    <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-4 max-w-2xl mx-auto">
                        <div class="bg-white bg-opacity-20 p-4 rounded-lg backdrop-blur-sm">
                            <div class="text-lg font-semibold mb-2">ì»¤ë®¤ë‹ˆí‹°</div>
                            <div class="text-sm opacity-90">ììœ ë¡œìš´ ì†Œí†µ</div>
                        </div>
                        <div class="bg-white bg-opacity-20 p-4 rounded-lg backdrop-blur-sm">
                            <div class="text-lg font-semibold mb-2">ë§¤ë„ˆìƒ·</div>
                            <div class="text-sm opacity-90">ì˜ˆìœ ì¸ì¦ìƒ·</div>
                        </div>
                        <div class="bg-white bg-opacity-20 p-4 rounded-lg backdrop-blur-sm">
                            <div class="text-lg font-semibold mb-2">ìƒì¼ì¹´í˜</div>
                            <div class="text-sm opacity-90">íŠ¹ë³„í•œ ìˆœê°„</div>
                        </div>
                    </div>

                    {% elif slide.type == 'favorite_artists' %}
                    <!-- ğŸ”¥ ì°œí•œ ì•„í‹°ìŠ¤íŠ¸ ìŠ¬ë¼ì´ë“œ -->
                    {% if slide.real_data %}
                    <div class="mt-8 max-w-6xl mx-auto">
                        <!-- ê°€ìš´ë° ì •ë ¬ëœ ì•„í‹°ìŠ¤íŠ¸ ë¡œê³ ë“¤ -->
                        <div class="flex flex-wrap justify-center items-center gap-4 sm:gap-8 lg:gap-10 mb-8">
                        {% for artist in slide.real_data|slice:":8" %}
                            <div class="text-center">
                            <a href="{% url 'artist:index' %}?artist={{ artist.id }}" class="favorite-artist-card block group">
                                <img src="{% static artist.logo %}" 
                                    alt="{{ artist.display_name }}"
                                    class="artist-logo-glow w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 mx-auto rounded-full shadow-md border-2 border-white border-opacity-50 hover:shadow-lg hover:border-opacity-100 transition-all duration-300 group-hover:scale-105">
                                <p class="mt-2 text-xs sm:text-sm font-semibold text-white truncate max-w-[60px] sm:max-w-[100px] lg:max-w-[120px]">{{ artist.display_name }}</p>
                            </a>
                            </div>
                        {% endfor %}
                        </div>
                        
                        <!-- ì „ì²´ ì•„í‹°ìŠ¤íŠ¸ ê´€ë¦¬ ë§í¬ -->
                        <div class="text-center mt-6">
                            <a href="{% url 'artist:index' %}" 
                            class="intro-btn inline-flex items-center space-x-2 bg-pink-600 hover:bg-pink-700 text-white px-6 py-3 rounded-full text-sm font-medium transition-all transform hover:scale-105">
                                <span>ì•„í‹°ìŠ¤íŠ¸ ê´€ë¦¬í•˜ê¸°</span>
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4">
                                    <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                                </svg>
                            </a>
                        </div>
                    </div>
                    {% else %}
                    <!-- ì°œí•œ ì•„í‹°ìŠ¤íŠ¸ê°€ ì—†ì„ ë•Œ -->
                    <div class="mt-8 text-center max-w-md mx-auto">
                        <div class="w-16 h-16 mx-auto mb-4 opacity-60">
                            <img src="{% static 'image/ddok_logo_filled.png' %}" alt="ì°œí•œ ì•„í‹°ìŠ¤íŠ¸ ì—†ìŒ" class="w-full h-full object-contain brightness-0 invert" />
                        </div>
                        <h4 class="text-xl font-light text-white mb-3">ì•„ì§ ì°œí•œ ë•ì´ ì—†ì–´ìš”!</h4>
                        <p class="text-gray-300 text-center mb-6">ë§ˆìŒì— ë“œëŠ” ì•„í‹°ìŠ¤íŠ¸ë¥¼ ì°œí•´ë³´ì„¸ìš”</p>
                        <a href="{% url 'artist:index' %}" 
                        class="intro-btn inline-flex items-center space-x-2 bg-pink-600 hover:bg-pink-700 text-white px-6 py-3 rounded-full font-medium transition-all transform hover:scale-105">
                            <span>ì°œë•í•˜ëŸ¬ ê°€ê¸°</span>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                            </svg>
                        </a>
                    </div>
                    {% endif %}
                    
                    {% elif slide.type == 'safety' %}
                    <div class="mt-8 flex justify-center items-center space-x-8">
                        <div class="text-center">
                            <div class="text-4xl mb-2">ğŸ”’</div>
                            <div class="text-sm">ë³´ì•ˆ ê±°ë˜</div>
                        </div>
                        <div class="text-center">
                            <div class="text-4xl mb-2">âœ…</div>
                            <div class="text-sm">ì‹ ë¢°ì„± ê²€ì¦</div>
                        </div>
                        <div class="text-center">
                            <div class="text-4xl mb-2">ğŸ›¡ï¸</div>
                            <div class="text-sm">ì•ˆì „ ë³´ì¥</div>
                        </div>
                    </div>
                    {% endif %}
                    
                    {% endif %}
                </div>
            </div>
            
            {% if forloop.first %}
            <!-- ì²« ë²ˆì§¸ ìŠ¬ë¼ì´ë“œì—ë§Œ ìŠ¤í¬ë¡¤ íŒíŠ¸ í‘œì‹œ -->
            <div class="scroll-indicator absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white text-center">
                <div class="text-sm mb-2 opacity-80">ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤í•˜ì„¸ìš”</div>
                <svg class="w-6 h-6 mx-auto opacity-80" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"/>
                </svg>
            </div>
            {% endif %}
        </section>
        {% endfor %}
        
    </main>
    
    <!-- ì§„í–‰ë¥  í‘œì‹œë°” -->
    <div class="fixed bottom-0 left-0 right-0 z-30">
        <div class="bg-gray-800 bg-opacity-50 h-1">
            <div id="progress-bar" class="bg-white h-full transition-all duration-300" style="width: 0%"></div>
        </div>
    </div>
    
    <!-- JavaScript -->
    <script>
        // ì „ì—­ ë³€ìˆ˜
        let currentSection = 0;
        const totalSections = {{ total_slides }};  // Djangoì—ì„œ ì „ë‹¬ë°›ì€ ìŠ¬ë¼ì´ë“œ ìˆ˜
        let isScrolling = false;
        let touchStartY = 0;
        
        // DOM ìš”ì†Œ
        const mainContainer = document.getElementById('main-container');
        const loading = document.getElementById('loading');
        const navDots = document.querySelectorAll('.nav-dot');
        const progressBar = document.getElementById('progress-bar');
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        
        // ì´ë¯¸ì§€ ë¡œë”© ê´€ë¦¬ (ë”ìš± ê°„ì†Œí™”ëœ ë²„ì „)
        function checkImagesLoaded() {
            console.log('ë‹¨ì¼ ì´ë¯¸ì§€ ë¡œë”© ì²´í¬ ì‹œì‘...');
            
            // ëª¨ë“  ì´ë¯¸ì§€ê°€ ê°™ìœ¼ë¯€ë¡œ ì²« ë²ˆì§¸ë§Œ ì²´í¬
            const firstImage = document.querySelector('.intro-image');
            
            if (firstImage && firstImage.complete && firstImage.naturalHeight !== 0) {
                console.log('ì´ë¯¸ì§€ ë¡œë”© ì™„ë£Œ');
                finishLoading();
            } else {
                // 1ì´ˆ í›„ ê°•ì œë¡œ ë¡œë”© ì™„ë£Œ (ê°™ì€ ì´ë¯¸ì§€ì´ë¯€ë¡œ ë¹ ë¦„)
                setTimeout(() => {
                    console.log('1ì´ˆ íƒ€ì„ì•„ì›ƒ, ê°•ì œ ë¡œë”© ì™„ë£Œ');
                    finishLoading();
                }, 1000);
            }
        }
        
        function finishLoading() {
            console.log('ë¡œë”© ì™„ë£Œ ì²˜ë¦¬ ì‹œì‘');
            loading.style.opacity = '0';
            setTimeout(() => {
                loading.style.display = 'none';
                initializeApp();
                console.log('ì•± ì´ˆê¸°í™” ì™„ë£Œ');
            }, 500);
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            console.log('DOM ë¡œë“œ ì™„ë£Œ');
            // ì¦‰ì‹œ ë¡œë”© ì²´í¬ ì‹œì‘
            checkImagesLoaded();
        });
        
        // ë°±ì—…: ìœˆë„ìš° ë¡œë“œ ì´ë²¤íŠ¸
        window.addEventListener('load', () => {
            console.log('ìœˆë„ìš° ë¡œë“œ ì™„ë£Œ');
            // ë§Œì•½ ì•„ì§ ë¡œë”© ì¤‘ì´ë¼ë©´ ê°•ì œë¡œ ì™„ë£Œ
            if (loading.style.display !== 'none') {
                console.log('ë°±ì—… ë¡œë”© ì™„ë£Œ ì²˜ë¦¬');
                finishLoading();
            }
        });
        
        // ì•± ì´ˆê¸°í™”
        function initializeApp() {
            updateNavigation();
            setupEventListeners();
            updateProgressBar(); // ì´ˆê¸° ì§„í–‰ë¥  ì„¤ì •
            
            // í˜ì´ë“œ ì¸ íš¨ê³¼
            setTimeout(() => {
                document.querySelectorAll('.fade-in').forEach(el => {
                    el.classList.add('visible');
                });
            }, 500);
            
            // ì¹´ìš´í„° ì• ë‹ˆë©”ì´ì…˜ (ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œìš©)
            if (currentSection === totalSections - 1) {
                animateCounters();
            }
        }
        
        // ì¹´ìš´í„° ì• ë‹ˆë©”ì´ì…˜
        function animateCounters() {
            const counters = document.querySelectorAll('.counter');
            counters.forEach(counter => {
                const target = parseInt(counter.textContent);
                if (target > 0) {
                    let current = 0;
                    const increment = target / 50;
                    const timer = setInterval(() => {
                        current += increment;
                        if (current >= target) {
                            current = target;
                            clearInterval(timer);
                        }
                        counter.textContent = Math.floor(current).toLocaleString();
                    }, 40);
                }
            });
        }
        
        // ë„¤ë¹„ê²Œì´ì…˜ ì—…ë°ì´íŠ¸
        function updateNavigation() {
            navDots.forEach((dot, index) => {
                if (index === currentSection) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }
        
        // ì§„í–‰ë¥  ë°” ì—…ë°ì´íŠ¸
        function updateProgressBar() {
            const progress = ((currentSection + 1) / totalSections) * 100;
            progressBar.style.width = progress + '%';
        }
        
        // íŠ¹ì • ì„¹ì…˜ìœ¼ë¡œ ì´ë™
        function goToSection(sectionIndex) {
            if (sectionIndex < 0 || sectionIndex >= totalSections || isScrolling) return;
            
            isScrolling = true;
            currentSection = sectionIndex;
            
            const targetSection = document.getElementById(`section-${sectionIndex}`);
            targetSection.scrollIntoView({ 
                behavior: 'smooth',
                block: 'start'
            });
            
            updateNavigation();
            updateProgressBar();
            
            // ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œì—ì„œ ì¹´ìš´í„° ì• ë‹ˆë©”ì´ì…˜ ì‹¤í–‰
            if (sectionIndex === totalSections - 1) {
                setTimeout(() => {
                    animateCounters();
                }, 500);
            }
            
            setTimeout(() => {
                isScrolling = false;
            }, 1000);
        }
        
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì„¤ì •
        function setupEventListeners() {
            // ë„¤ë¹„ê²Œì´ì…˜ ë„íŠ¸ í´ë¦­
            navDots.forEach((dot, index) => {
                dot.addEventListener('click', () => goToSection(index));
            });
            
            // ëª¨ë°”ì¼ ë©”ë‰´ í† ê¸€
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('hidden');
                });
            }
            
            // í‚¤ë³´ë“œ ë„¤ë¹„ê²Œì´ì…˜
            document.addEventListener('keydown', (e) => {
                if (isScrolling) return;
                
                switch(e.key) {
                    case 'ArrowDown':
                    case ' ':
                        e.preventDefault();
                        if (currentSection < totalSections - 1) {
                            goToSection(currentSection + 1);
                        }
                        break;
                    case 'ArrowUp':
                        e.preventDefault();
                        if (currentSection > 0) {
                            goToSection(currentSection - 1);
                        }
                        break;
                    case 'Home':
                        e.preventDefault();
                        goToSection(0);
                        break;
                    case 'End':
                        e.preventDefault();
                        goToSection(totalSections - 1);
                        break;
                }
            });
            
            // í„°ì¹˜ ì´ë²¤íŠ¸ (ëª¨ë°”ì¼)
            mainContainer.addEventListener('touchstart', (e) => {
                touchStartY = e.touches[0].clientY;
            }, { passive: true });
        }
        
        // í˜„ì¬ ì„¹ì…˜ ê°ì§€
        function detectCurrentSection() {
            const scrollTop = mainContainer.scrollTop;
            const windowHeight = window.innerHeight;
            const newSection = Math.round(scrollTop / windowHeight);
            
            if (newSection !== currentSection && newSection >= 0 && newSection < totalSections) {
                currentSection = newSection;
                updateNavigation();
                updateProgressBar();
                
                // ë§ˆì§€ë§‰ ìŠ¬ë¼ì´ë“œì—ì„œ ì¹´ìš´í„° ì• ë‹ˆë©”ì´ì…˜
                if (currentSection === totalSections - 1) {
                    animateCounters();
                }
            }
        }
        
        console.log(`ì–´ë•í•´ ì†Œê°œ í˜ì´ì§€ ë¡œë“œ ì™„ë£Œ - ${totalSections}ê°œ ìŠ¬ë¼ì´ë“œ`);
    </script>
</body>
</html> true });
            
            mainContainer.addEventListener('touchend', (e) => {
                if (isScrolling) return;
                
                const touchEndY = e.changedTouches[0].clientY;
                const diff = touchStartY - touchEndY;
                const threshold = 50;
                
                if (Math.abs(diff) > threshold) {
                    if (diff > 0 && currentSection < totalSections - 1) {
                        goToSection(currentSection + 1);
                    } else if (diff < 0 && currentSection > 0) {
                        goToSection(currentSection - 1);
                    }
                }
            }, { passive: true });
            
            // ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ê°ì§€
            let scrollTimeout;
            mainContainer.addEventListener('scroll', () => {
                clearTimeout(scrollTimeout);
                scrollTimeout = setTimeout(() => {
                    if (!isScrolling) {
                        detectCurrentSection();
                    }
                }, 100);
            }, { passive: